import { useEffect } from "react";
import { Link, useLocation } from "react-router-dom"

function SideNav() {
    let pathFull = useLocation();
    let path = pathFull.pathname;
    useEffect(() => {
        console.log(path);
        // set active class
        if (path == "/") {
            document.querySelectorAll("li").forEach((li) => li.classList.remove("bg-light-gray"));
            document.querySelector("#dashboard")?.classList.add("bg-light-gray");
        }
        else if (path == "/transactions") {
            document.querySelectorAll("li").forEach((li) => li.classList.remove("bg-light-gray"));
            document.querySelector("#transactions")?.classList.add("bg-light-gray");
        }
        else if (path == "/support") {
            document.querySelectorAll("li").forEach((li) => li.classList.remove("bg-light-gray"));
            document.querySelector("#support")?.classList.add("bg-light-gray");
        }
    }, [])


    return (
        <div className="fixed left-0 mt-[3rem] w-2/12 h-[calc(100vh-50px)] bg-white flex flex-col justify-center items-center">
            <ul className="w-full h-full pb-10 flex flex-col justify-between items-start">
                <div className="w-full pr-5 mt-10">
                    <Link to="/"> <li id="dashboard"  className="mb-4 flex gap-4 justify-start items-center ml-5 px-5 py-3 rounded-xl hover:bg-light-gray">  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.04711 2.25907C1.08374 1.65594 1.47619 1.18883 2.07534 1.11063C2.53787 1.05026 3.20634 1 4.15002 1C5.0937 1 5.76216 1.05026 6.22469 1.11063C6.82386 1.18883 7.21628 1.65594 7.25293 2.25907C7.27914 2.69043 7.30004 3.3007 7.30004 4.15002C7.30004 4.99933 7.27914 5.6096 7.25293 6.04098C7.21628 6.6441 6.82386 7.11121 6.22469 7.1894C5.76216 7.24978 5.0937 7.30004 4.15002 7.30004C3.20634 7.30004 2.53787 7.24978 2.07534 7.1894C1.47619 7.11121 1.08374 6.6441 1.04711 6.04098C1.02091 5.6096 1 4.99933 1 4.15002C1 3.3007 1.02091 2.69043 1.04711 2.25907Z" fill="#797E82"/><path d="M1.04705 13.741C1.08368 14.3441 1.47613 14.8112 2.07528 14.8894C2.53781 14.9498 3.20628 15 4.14996 15C5.09363 15 5.7621 14.9498 6.22463 14.8894C6.8238 14.8112 7.21622 14.3441 7.25287 13.741C7.27908 13.3096 7.29998 12.6993 7.29998 11.85C7.29998 11.0007 7.27908 10.3904 7.25287 9.95904C7.21622 9.35592 6.8238 8.88881 6.22463 8.81062C5.7621 8.75024 5.09363 8.69998 4.14996 8.69998C3.20628 8.69998 2.53781 8.75024 2.07528 8.81062C1.47613 8.88881 1.08368 9.35592 1.04705 9.95904C1.02084 10.3904 0.999939 11.0007 0.999939 11.85C0.999939 12.6993 1.02084 13.3096 1.04705 13.741Z" fill="#797E82"/><path d="M13.7416 1.04711C14.3447 1.08374 14.8118 1.47619 14.89 2.07534C14.9504 2.53787 15.0007 3.20634 15.0007 4.15002C15.0007 5.0937 14.9504 5.76216 14.89 6.22469C14.8118 6.82386 14.3447 7.21628 13.7416 7.25293C13.3102 7.27914 12.7 7.30004 11.8506 7.30004C11.0013 7.30004 10.3911 7.27914 9.95969 7.25293C9.35656 7.21628 8.88945 6.82386 8.81126 6.22469C8.75088 5.76216 8.70062 5.0937 8.70062 4.15002C8.70062 3.20634 8.75088 2.53787 8.81126 2.07534C8.88945 1.47618 9.35656 1.08374 9.95969 1.04711C10.3911 1.02091 11.0013 1 11.8506 1C12.7 1 13.3102 1.02091 13.7416 1.04711Z" fill="#797E82"/><path d="M13.7416 14.9529C14.3447 14.9163 14.8118 14.5238 14.89 13.9247C14.9504 13.4621 15.0007 12.7937 15.0007 11.85C15.0007 10.9063 14.9504 10.2379 14.89 9.77533C14.8118 9.17616 14.3447 8.78374 13.7416 8.74709C13.3102 8.72088 12.7 8.69998 11.8506 8.69998C11.0013 8.69998 10.3911 8.72088 9.95969 8.74709C9.35656 8.78374 8.88945 9.17616 8.81126 9.77533C8.75088 10.2379 8.70062 10.9063 8.70062 11.85C8.70062 12.7937 8.75088 13.4621 8.81126 13.9247C8.88945 14.5238 9.35656 14.9163 9.95969 14.9529C10.3911 14.9791 11.0013 15 11.8506 15C12.7 15 13.3102 14.9791 13.7416 14.9529Z" fill="#797E82"/></svg> Dashboard </li> </Link>
                    <Link to="/transactions"> <li id="transactions" className="flex gap-4 justify-start items-center ml-5 px-5 py-3 rounded-xl hover:bg-light-gray"> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.20438 5.6956C8.26951 5.76056 8.3468 5.81205 8.43184 5.84713C8.51688 5.8822 8.608 5.90017 8.69998 5.9C8.79177 5.90022 8.88267 5.88214 8.96738 5.8468C9.09539 5.79389 9.20483 5.70419 9.28183 5.58905C9.35884 5.47391 9.39996 5.33852 9.39998 5.2V1.7C9.39998 1.51435 9.32623 1.3363 9.19496 1.20503C9.06368 1.07375 8.88563 1 8.69998 1H5.19998C5.06135 0.999753 4.92577 1.04067 4.81043 1.11757C4.69508 1.19447 4.60517 1.30389 4.55208 1.43195C4.499 1.56002 4.48513 1.70096 4.51225 1.83691C4.53936 1.97286 4.60623 2.0977 4.70438 2.1956L5.83698 3.3268L1.43118 7.7312C1.26707 7.89532 1.17487 8.11791 1.17487 8.35C1.17487 8.5821 1.26707 8.80469 1.43118 8.9688C1.5953 9.13292 1.81789 9.22512 2.04998 9.22512C2.28208 9.22512 2.50467 9.13292 2.66878 8.9688L7.07318 4.563L8.20438 5.6956Z" fill="#797E82"/><path d="M14.5688 7.03123C14.4875 6.94996 14.3911 6.88549 14.2849 6.8415C14.1787 6.79751 14.0649 6.77487 13.95 6.77487C13.8351 6.77487 13.7213 6.79751 13.6151 6.8415C13.5089 6.88549 13.4124 6.94996 13.3312 7.03123L8.92678 11.437L7.79558 10.3044C7.69768 10.2063 7.57284 10.1394 7.43688 10.1123C7.30093 10.0852 7.15999 10.0991 7.03193 10.1521C6.90387 10.2052 6.79445 10.2951 6.71755 10.4105C6.64065 10.5258 6.59973 10.6614 6.59998 10.8V14.3C6.59998 14.4857 6.67373 14.6637 6.805 14.795C6.93628 14.9263 7.11433 15 7.29998 15H10.8C10.9386 15.0003 11.0742 14.9594 11.1895 14.8825C11.3049 14.8056 11.3948 14.6961 11.4479 14.5681C11.501 14.44 11.5148 14.2991 11.4877 14.1631C11.4606 14.0272 11.3937 13.9023 11.2956 13.8044L10.163 12.6732L14.5688 8.26883C14.6501 8.18758 14.7145 8.09111 14.7585 7.98494C14.8025 7.87876 14.8251 7.76496 14.8251 7.65003C14.8251 7.53511 14.8025 7.42131 14.7585 7.31513C14.7145 7.20896 14.6501 7.11249 14.5688 7.03123Z" fill="#797E82"/></svg> Transactions</li> </Link>
                </div>
                <div className="w-full pr-4">
                    <Link to="/support"> <li id="support" className="flex gap-4 justify-start items-center ml-5 px-5 py-3 rounded-xl hover:bg-light-gray"> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6342 6.04592C13.6048 4.68931 12.9964 3.39826 11.9414 2.45344C10.8863 1.50861 9.4699 0.986376 8 1.00027C6.5301 0.986376 5.11367 1.50861 4.05862 2.45344C3.00358 3.39826 2.39522 4.68931 2.36578 6.04592C1.95939 6.21685 1.61469 6.49185 1.37259 6.83825C1.13049 7.18465 1.00118 7.58791 1 8.00014V9.43601C1 10.0072 1.24583 10.5551 1.68342 10.959C2.121 11.3629 2.71449 11.5898 3.33333 11.5898C3.95217 11.5898 4.54566 11.3629 4.98325 10.959C5.42083 10.5551 5.66667 10.0072 5.66667 9.43601V8.00014C5.66542 7.58958 5.53707 7.18791 5.29675 6.84244C5.05643 6.49698 4.71414 6.22211 4.31022 6.05022C4.33792 5.16878 4.7407 4.33289 5.43132 3.72362C6.12195 3.11436 7.04481 2.78076 8 2.79511C8.95519 2.78076 9.87805 3.11436 10.5687 3.72362C11.2593 4.33289 11.6621 5.16878 11.6898 6.05022C11.2859 6.22211 10.9436 6.49698 10.7033 6.84244C10.4629 7.18791 10.3346 7.58958 10.3333 8.00014V9.43601C10.3347 9.84727 10.4636 10.2496 10.7048 10.5954C10.946 10.9412 11.2894 11.216 11.6944 11.3874V11.8928C11.7003 12.2328 11.5607 12.5613 11.3059 12.807C11.0511 13.0527 10.7017 13.1958 10.3333 13.2052H8C7.74215 13.2052 7.49486 13.2997 7.31254 13.468C7.13021 13.6363 7.02778 13.8646 7.02778 14.1026C7.02778 14.3406 7.13021 14.5689 7.31254 14.7372C7.49486 14.9055 7.74215 15 8 15H10.3333C11.2178 14.9917 12.0625 14.6598 12.6822 14.0773C13.3019 13.4948 13.6459 12.7092 13.6389 11.8928V11.3874C14.0439 11.216 14.3873 10.9412 14.6285 10.5954C14.8697 10.2496 14.9986 9.84727 15 9.43601V8.00014C14.9988 7.58791 14.8695 7.18465 14.6274 6.83825C14.3853 6.49185 14.0406 6.21685 13.6342 6.04592Z" fill="#797E82"/></svg> Support</li> </Link>
                </div>
            </ul> 
        </div>
    )
}

export default SideNav